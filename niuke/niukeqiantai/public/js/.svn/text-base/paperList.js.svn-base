define("nowcoder/1.2.351/javascripts/site/contest/paperList",["../../lib/jquery","../../lib/underscore","../../core/base","../../util/util","../../util/cookie","../../component/checkbox","../../core/component","../../util/event","../../action/paper","../../util/ajax","../../core/siteConfig","../../component/popup","../../component/layer","../../util/dragdrop","../../util/browser","../../component/input","../../util/dom"],function(a){function b(){var a=this;a.userEmail=window.globalInfo.ownerEmail||"",a.initAllTag(),a.initCheckbox();var b=(window.parameter.mutiTagIds||"").split("_");b=n.without(b,""),a.mutiTagIds=b,a.renderTags()}function c(){var a=m("#jsKeyIpt"),b=a.val();window.location.href="/contestRoom"+(b?"?query="+b:"")}function d(a){var b=this;13===a.keyCode&&c.call(b,a)}function e(a){var b=this,c=m(a.currentTarget),d=c.attr("data-id"),e=n.contains(this.mutiTagIds,d);b.addTag(d,e)}function f(a){var b=m(a.currentTarget),c=b.attr("data-id");this.addTag(c,!0)}function g(){window.location.href="/contestRoom"}function h(){var a=this,b=a.qTags,c=a.mutiTagIds,d="";if(n.each(c,function(a){var c=a?b[a]:"";c&&m("ul.test-center-menu a.tcm-tag[data-id="+a+"]").addClass("selected")}),d=m.trim(d)){var e=m("div.tag-choose-wrap");e.show().find("div.tags-box").html(d)}}function i(a,b){if(a){var c=this,d=c.mutiTagIds;a=p.isArray(a)?a:a?[a]:[],n.forEach(a,function(a){d=n.without(d,a)}),a.length>0&&!b&&(d=d.concat(a)),c.mutiTagIds=d;var e=0===d.length?"":d.join("_"),f=e?p.addParam({mutiTagIds:e}):p.removeParam("mutiTagIds");f=p.removeParam("query",f),f=p.removeParam("page",f),f!==window.location.href&&(window.location.href=f)}}function j(){q.transform(m("#jsDoneCheckbox"),{change:function(){var a=this.isChecked(),b=a?p.addParam({filter:2}):p.removeParam("filter");b=p.addParam({page:1},b),window.location.href=b}})}function k(a){function b(a,b){var d=[];n.forEach(c.mutiTagIds||[],function(a){"250"!==a&&"251"!==a&&"252"!==a&&"253"!==a&&"254"!==a&&d.push("paper_"+a)}),0===d.length&&d.push("paper_all"),r.subscribeNewPaper({body:{mailingListName:d,email:a},call:function(){b&&b.replaceWith('<a href="javascript:void(0);" class="btn btn-block btn-default"><i class="fui-check"></i> 已订阅</a>'),s.tips("你已成功订阅本类试卷，一有上新就会马上通知你哒！",2e3),c.isSubscribe=!0},error:function(a){s.alert(a.msg)}})}var c=this,d=m(a.currentTarget),e=!!window.isLogin;if(c.isSubscribe)return s.alert("您已经订阅本类试卷"),void 0;if(e)return b(c.userEmail,d),void 0;var f;new s({title:"订阅试卷",hasNoFooter:!0,content:['<div class="pop-recovery-content">','<p class="pop-tip">输入你的邮件地址，本类试卷更新后将发送至你的邮箱</p>','<div class="form-group">','<label for="input-email" class="control-label">邮箱</label>','<div class="control-group">','<input type="text" placeholder="请输入邮箱">',"</div>","</div>",'<div class="submit-btnbox" style="text-align:center;">','<a class="btn btn-primary confirm-btn" href="javascript:void(0);">订阅试卷</a>',"</div>","</div>"].join(""),ok:function(){var a=f.val();return p.isEmail(a)?(b(a),void 0):(f.setErrorTips("请填写正确的邮箱"),!0)},listeners:{render:function(){var a=this.getEl();f=t.transform(a.find("div.control-group"))}}})}function l(){var a=this;a.qTags={639:"Java工程师",640:"C++工程师",641:"iOS工程师",642:"安卓工程师",643:"运维工程师",644:"前端工程师",645:"算法工程师",649:"PHP工程师",177:"高德",180:"陌陌",134:"阿里巴巴",163:"金山",171:"迅雷",178:"赶集网",181:"触控科技",170:"艺龙网",138:"腾讯",179:"美团",173:"网龙",149:"网易",165:"网宿科技",155:"盛大",139:"百度",154:"畅游",176:"猎豹移动",166:"爱奇艺",135:"淘宝",172:"汽车之家",167:"欢聚时代",185:"智联招聘",183:"昆仑万维",137:"支付宝",153:"携程",148:"搜狐",156:"搜房",174:"快钱",146:"微软",142:"微博",159:"微信",152:"当当网",164:"巨人网络",147:"小米",160:"完美世界",157:"奇虎",136:"天猫",184:"大众点评",150:"唯品会",141:"去哪儿",168:"前程无忧",161:"优酷",182:"人民网",140:"人人网",151:"京东",145:"亚马逊",162:"乐视网",169:"UC",144:"Google",143:"Facebook",175:"58同城",1:"C/C++",2:"JAVA",4:"Objective-C",5:"PHP",12:"SQL",47:"复杂度",48:"排序",49:"二分法",53:"斐波那契",55:"最短路径",63:"枚举",64:"递归",66:"图遍历",69:"概率",32:"数组",33:"栈",34:"队列",35:"链表",36:"字符串",37:"树",40:"哈夫曼",41:"哈希表",42:"堆",78:"HTTP",79:"Socket",81:"TCP",82:"UDP",83:"IPv4/IPv6",71:"进程线程",72:"调度死锁",75:"存储管理",26:"Windows",28:"Android",29:"Linux",235:"Leetcode",187:"SQLSever",204:"Mysql",206:"正则表达式",233:"LRU",244:"研发",245:"前端",246:"算法",250:"2015",251:"2014",252:"2013",253:"2012",254:"2011",651:"2016"}}var m=a("../../lib/jquery"),n=a("../../lib/underscore"),o=a("../../core/base"),p=a("../../util/util"),q=a("../../component/checkbox"),r=a("../../action/paper"),s=a("../../component/popup"),t=a("../../component/input");o.ready({initialize:b,binds:{"click a.refresh-tag":g,"click #jsSearchBtn":c,"keydown #jsKeyIpt":d,"click #jsSubscibeBtn":k},events:{"click ul.test-center-menu a.tcm-tag":e,"click a.tag-label span.del-tag":f},initAllTag:l,initCheckbox:j,renderTags:h,addTag:i})});
